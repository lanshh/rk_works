From 706329912c554b8560352c513faeb3cd27724afb Mon Sep 17 00:00:00 2001
From: lanshh <lsh@rock-chips.com>
Date: Sat, 10 Mar 2018 16:32:31 +0800
Subject: [PATCH 1/2] rk3326: fix compile error

Change-Id: I2da7146b767040035a91070f0e36e1cbd33579e7
Signed-off-by: lanshh <lsh@rock-chips.com>
---
 Android.mk            | 2 +-
 minui_pcba/Android.mk | 7 +++++--
 pre_test.c            | 6 ++++++
 3 files changed, 12 insertions(+), 3 deletions(-)

diff --git a/Android.mk b/Android.mk
index 65f5d87..290f63b 100755
--- a/Android.mk
+++ b/Android.mk
@@ -242,7 +242,7 @@ LOCAL_MODULE_TAGS := optional
 LOCAL_STATIC_LIBRARIES :=
 LOCAL_SHARED_LIBRARIES :=
 
-ifeq ($(strip $(TARGET_BOARD_PLATFORM)), rk3126c)
+ifneq ($(filter $(strip $(TARGET_BOARD_PLATFORM)), rk3126c rk3326), )
 LOCAL_SHARED_LIBRARIES += libdl libhardware libgralloc_drm libdrm libdrm_rockchip
 endif
 
diff --git a/minui_pcba/Android.mk b/minui_pcba/Android.mk
index a5dd1db..c46c844 100755
--- a/minui_pcba/Android.mk
+++ b/minui_pcba/Android.mk
@@ -6,11 +6,14 @@ LOCAL_SRC_FILES := graphics.c graphics_adf.c graphics_drm.c graphics_fbdev.c eve
 
 LOCAL_C_INCLUDES +=\
     external/libpng\
-    external/zlib
+    external/zlib\
+    external/libdrm/include/drm\
+    external/libdrm
+
 
 LOCAL_WHOLE_STATIC_LIBRARIES += libadf
 
-LOCAL_WHOLE_STATIC_LIBRARIES += libdrm
+LOCAL_WHOLE_SHARED_LIBRARIES += libdrm
 LOCAL_WHOLE_STATIC_LIBRARIES += libpixelflinger_twrp
 
 LOCAL_MODULE := libminuitwrp
diff --git a/pre_test.c b/pre_test.c
index dabc054..cedc7be 100755
--- a/pre_test.c
+++ b/pre_test.c
@@ -344,6 +344,12 @@ void change_bootmode_to_nvm(int mode)
 	}
 	android_reboot(ANDROID_RB_RESTART, 0, 0);
 }
+void * camera_test(void *argc)
+{
+
+
+	return NULL;
+}
 
 int start_test_pthread(struct testcase_info *tc_info)
 {
-- 
1.9.1

