From 21b09b8d4c87652aa9f6986f56e6cbe6abf62a53 Mon Sep 17 00:00:00 2001
From: lanshh <lsh@rock-chips.com>
Date: Wed, 28 Sep 2016 13:46:34 +0800
Subject: [PATCH 5/9] rk3399_vop1_mipi_vop0_hdmi

Change-Id: If5896e19ac253030debcfa7bfcce248e0038a17d
Signed-off-by: lanshh <lsh@rock-chips.com>
---
 arch/arm64/boot/dts/rockchip/rk3399-android.dtsi   | 36 +++++++++++-----------
 .../boot/dts/rockchip/rk3399-evb-rev3-android.dts  |  6 ++--
 2 files changed, 21 insertions(+), 21 deletions(-)

diff --git a/arch/arm64/boot/dts/rockchip/rk3399-android.dtsi b/arch/arm64/boot/dts/rockchip/rk3399-android.dtsi
index 28e4d5d..f15f612 100644
--- a/arch/arm64/boot/dts/rockchip/rk3399-android.dtsi
+++ b/arch/arm64/boot/dts/rockchip/rk3399-android.dtsi
@@ -295,10 +295,27 @@
 		compatible = "rockchip,screen";
 	};
 
-	vopb_rk_fb: vop-rk-fb@ff900000 {
+	vopl_rk_fb: vop-rk-fb@ff8f0000 {
 		status = "disabled";
 		compatible = "rockchip,rk3399-lcdc";
 		rockchip,prop = <PRMRY>;
+		reg = <0x0 0xff8f0000 0x0 0x3efc>;
+		interrupts = <GIC_SPI 119 IRQ_TYPE_LEVEL_HIGH 0>;
+		clocks = <&cru ACLK_VOP1>, <&cru DCLK_VOP1>, <&cru HCLK_VOP1>;
+		clock-names = "aclk_lcdc", "dclk_lcdc", "hclk_lcdc";
+		resets = <&cru SRST_A_VOP1>, <&cru SRST_H_VOP1>, <&cru SRST_D_VOP1>;
+		reset-names = "axi", "ahb", "dclk";
+		rockchip,grf = <&grf>;
+		rockchip,pwr18 = <0>;
+		rockchip,iommu-enabled = <1>;
+		power-domains = <&power RK3399_PD_VOPL>;
+		devfreq = <&dmc>;
+	};
+
+	vopb_rk_fb: vop-rk-fb@ff900000 {
+		status = "disabled";
+		compatible = "rockchip,rk3399-lcdc";
+		rockchip,prop = <EXTEND>;
 		reg = <0x0 0xff900000 0x0 0x3efc>;
 		interrupts = <GIC_SPI 118 IRQ_TYPE_LEVEL_HIGH 0>;
 		clocks = <&cru ACLK_VOP0>, <&cru DCLK_VOP0>, <&cru HCLK_VOP0>;
@@ -321,23 +338,6 @@
 		interrupt-names = "vopb_mmu";
 	};
 
-	vopl_rk_fb: vop-rk-fb@ff8f0000 {
-		status = "disabled";
-		compatible = "rockchip,rk3399-lcdc";
-		rockchip,prop = <EXTEND>;
-		reg = <0x0 0xff8f0000 0x0 0x3efc>;
-		interrupts = <GIC_SPI 119 IRQ_TYPE_LEVEL_HIGH 0>;
-		clocks = <&cru ACLK_VOP1>, <&cru DCLK_VOP1>, <&cru HCLK_VOP1>;
-		clock-names = "aclk_lcdc", "dclk_lcdc", "hclk_lcdc";
-		resets = <&cru SRST_A_VOP1>, <&cru SRST_H_VOP1>, <&cru SRST_D_VOP1>;
-		reset-names = "axi", "ahb", "dclk";
-		rockchip,grf = <&grf>;
-		rockchip,pwr18 = <0>;
-		rockchip,iommu-enabled = <1>;
-		power-domains = <&power RK3399_PD_VOPL>;
-		devfreq = <&dmc>;
-	};
-
 	vopl_mmu_rk_fb: vopl-mmu {
 		status = "okay";
 		dbgname = "vop";
diff --git a/arch/arm64/boot/dts/rockchip/rk3399-evb-rev3-android.dts b/arch/arm64/boot/dts/rockchip/rk3399-evb-rev3-android.dts
index 8a09650..aa53421 100644
--- a/arch/arm64/boot/dts/rockchip/rk3399-evb-rev3-android.dts
+++ b/arch/arm64/boot/dts/rockchip/rk3399-evb-rev3-android.dts
@@ -54,7 +54,7 @@
 	#include <dt-bindings/display/screen-timing/lcd-tv080wum-nl0-mipi.dtsi>
 };
 
-&vopb_rk_fb {
+&vopl_rk_fb {
 	status = "okay";
 	power_ctr: power_ctr {
 		rockchip,debug = <0>;
@@ -78,7 +78,7 @@
 	};
 };
 
-&vopl_rk_fb {
+&vopb_rk_fb {
 	status = "okay";
 };
 
@@ -88,7 +88,7 @@
 
 &hdmi_rk_fb {
 	status = "okay";
-	rockchip,hdmi_video_source = <DISPLAY_SOURCE_LCDC1>;
+	rockchip,hdmi_video_source = <DISPLAY_SOURCE_LCDC0>;
 };
 
 &i2s2 {
-- 
1.9.1

