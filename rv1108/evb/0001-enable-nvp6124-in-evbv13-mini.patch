From aad92fd808bd445c7e39bee21c02c5f98db5ef0d Mon Sep 17 00:00:00 2001
From: lanshh <lsh@rock-chips.com>
Date: Tue, 8 Aug 2017 16:20:12 +0800
Subject: [PATCH] enable nvp6124 in evbv13 mini

Change-Id: If100cdec38bf2cfcc60965f36cabcb9aaa145c03
Signed-off-by: lanshh <lsh@rock-chips.com>
---
 arch/arm/boot/dts/rv1108-evb-v13.dts | 19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

diff --git a/arch/arm/boot/dts/rv1108-evb-v13.dts b/arch/arm/boot/dts/rv1108-evb-v13.dts
index 74d835f..e23efa3 100644
--- a/arch/arm/boot/dts/rv1108-evb-v13.dts
+++ b/arch/arm/boot/dts/rv1108-evb-v13.dts
@@ -44,8 +44,8 @@
 
 #include "rv1108.dtsi"
 //#include "lcd-ili9806e_mipi.dtsi" /* dispaly board v10 v11 */
-//#include "lcd-e555hbm2_mipi.dtsi" /* display board v20*/
-#include "lcd-ili9807_mipi.dtsi" /* display board v30 */
+#include "lcd-e555hbm2_mipi.dtsi" /* display board v20*/
+//#include "lcd-ili9807_mipi.dtsi" /* display board v30 */
 #include "dt-bindings/suspend/rockchip-pm.h"
 
 / {
@@ -54,7 +54,7 @@
 
 	memory {
 		device_type = "memory";
-		reg = <0x60000000 0x08000000>;
+		reg = <0x60000000 0x10000000>;
 	};
 
 	fiq-debugger {
@@ -98,7 +98,7 @@
 		ion_cma: rockchip,ion-heap@4 { /* CMA HEAP */
 			compatible = "rockchip,ion-heap";
 			rockchip,ion_heap = <4>;
-			reg = <0x00000000 0x04400000>; /* 68MB */
+			reg = <0x00000000 0x08800000>; /* 68MB */
 		};
 		rockchip,ion-heap@0 { /* VMALLOC HEAP */
 			compatible = "rockchip,ion-heap";
@@ -310,16 +310,17 @@
 	};
 
 	nvp6124: nvp6124@30 {
-		status = "disabled";
+		status = "okay";
 		compatible = "rockchip,nvp";
 		reg = <0x30>;
 		device_type = "v4l2-i2c-subdev";
 		/* 1 or 2 or 4 */
-		channels = <4>;
+		channels = <1>;
 		/* 1.8v or 3.3v */
 		apio_vol = <3300>;
 		/* PAL or NTSC */
-		cvbs_mode = "PAL";
+		cvbs_mode = "NTSC";
+		nvp_mode = "1080p_2530";
 		reset-gpio = <&gpio3 GPIO_C6 GPIO_ACTIVE_LOW>;
 		irq-gpio = <&gpio3 GPIO_D3 GPIO_ACTIVE_HIGH>;
 		pinctrl-names = "default", "sleep";
@@ -351,6 +352,10 @@
 };
 
 &cif1to4 {
+	status = "okay";
+};
+
+&camera2{
 	status = "disabled";
 };
 
-- 
1.9.1

