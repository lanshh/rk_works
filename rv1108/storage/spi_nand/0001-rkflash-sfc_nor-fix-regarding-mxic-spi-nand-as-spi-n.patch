From d10c8a68fd5bfae54b90ec91479caab2d0a44c2e Mon Sep 17 00:00:00 2001
From: lanshh <lsh@rock-chips.com>
Date: Fri, 13 Oct 2017 15:08:39 +0800
Subject: [PATCH] rkflash: sfc_nor: fix regarding mxic spi nand as spi nor
 flash

Change-Id: Ic0231fe78a14e7dbf2cdf1ee907c65ce67e7eedf
Signed-off-by: lanshh <lsh@rock-chips.com>
---
 drivers/rkflash/sfc_nor.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/drivers/rkflash/sfc_nor.c b/drivers/rkflash/sfc_nor.c
index c70086d..f7545d3 100644
--- a/drivers/rkflash/sfc_nor.c
+++ b/drivers/rkflash/sfc_nor.c
@@ -913,7 +913,8 @@ int snor_init(void)
 	snor_read_id(id_byte);
 	PRINT_E("sfc nor id: %x %x %x\n", id_byte[0], id_byte[1], id_byte[2]);
 	if ((0xFF == id_byte[0] && 0xFF == id_byte[1]) ||
-	    (0x00 == id_byte[0] && 0x00 == id_byte[1])) {
+	    (0x00 == id_byte[0] && 0x00 == id_byte[1]) ||
+	    (0xFF == id_byte[0] && 0xC2 == id_byte[1])) {
 		err = SFC_ERROR;
 		goto err_out;
 	}
-- 
1.9.1

