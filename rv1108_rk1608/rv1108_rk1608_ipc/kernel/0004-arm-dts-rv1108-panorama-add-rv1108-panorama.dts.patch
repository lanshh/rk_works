From 3e69ac65ce4fa1749b2ab7aa517b240ab86effc9 Mon Sep 17 00:00:00 2001
From: lanshh <lsh@rock-chips.com>
Date: Thu, 21 Dec 2017 16:18:53 +0800
Subject: [PATCH 4/5] arm: dts: rv1108-panorama: add rv1108-panorama.dts

Change-Id: Iebee3c67b90b63e5347c7a88629197884cf88902
Signed-off-by: lanshh <lsh@rock-chips.com>
---
 arch/arm/boot/dts/Makefile             |   1 +
 arch/arm/boot/dts/rv1108-camb-v13.dtsi |  45 +--
 arch/arm/boot/dts/rv1108-panorama.dts  | 660 +++++++++++++++++++++++++++++++++
 3 files changed, 668 insertions(+), 38 deletions(-)
 create mode 100644 arch/arm/boot/dts/rv1108-panorama.dts

diff --git a/arch/arm/boot/dts/Makefile b/arch/arm/boot/dts/Makefile
index a8a0d0b..82e15ed 100644
--- a/arch/arm/boot/dts/Makefile
+++ b/arch/arm/boot/dts/Makefile
@@ -205,6 +205,7 @@ dtb-$(CONFIG_ARCH_ROCKCHIP) += \
 	rv1108-ipc-emmc-v10.dtb \
 	rv1108-ketong.dtb \
 	rv1108-minievb-v10.dtb \
+	rv1108-panorama.dtb \
 	rv1108-rk1608-evb-v10.dtb \
 	rv1108-sportdv-v10.dtb
 dtb-$(CONFIG_ARCH_U8500) += snowball.dtb \
diff --git a/arch/arm/boot/dts/rv1108-camb-v13.dtsi b/arch/arm/boot/dts/rv1108-camb-v13.dtsi
index bbc8d27..fa49ed8 100644
--- a/arch/arm/boot/dts/rv1108-camb-v13.dtsi
+++ b/arch/arm/boot/dts/rv1108-camb-v13.dtsi
@@ -1,48 +1,17 @@
-
 camera0: camera-module@36 {
 	status = "okay";
-	compatible = "omnivision,ov2710-v4l2-i2c-subdev";
-	reg = <0x36>;
-	device_type = "v4l2-i2c-subdev";
-	clocks = <&clk_cif_out>;
-	clock-names = "clk_cif_out";
-	pinctrl-names = "rockchip,camera_default", "rockchip,camera_sleep";
-	pinctrl-0 = <&cif_dvp_clk_out>;
-	pinctrl-1 = <&cif_dvp_clk_out_sleep>;
-	rockchip,pd-gpio = <&gpio3 GPIO_B0 GPIO_ACTIVE_HIGH>;
-	rockchip,pwr-gpio = <&gpio3 GPIO_B5 GPIO_ACTIVE_HIGH>;
-	rockchip,rst-gpio = <&gpio3 GPIO_D1 GPIO_ACTIVE_LOW>;
-	rockchip,camera-module-mclk-name = "clk_cif_out";
-	rockchip,camera-module-facing = "back";
-	rockchip,camera-module-name = "LA6110PA";
-	rockchip,camera-module-len-name = "YM6011P";
-	rockchip,camera-module-fov-h = "128";
-	rockchip,camera-module-fov-v = "55.7";
-	rockchip,camera-module-orientation = <0>;
-	rockchip,camera-module-iq-flip = <0>;
-	rockchip,camera-module-iq-mirror = <0>;
-	rockchip,camera-module-flip = <0>;
-	rockchip,camera-module-mirror = <0>;
-	/* resolution.w, resolution.h, defrect.left, defrect.top, defrect.w, defrect.h */
-	rockchip,camera-module-defrect0 = <1920 1080 0 0 1920 1080>;
-	rockchip,camera-module-flash-support = <0>;
-	rockchip,camera-module-mipi-dphy-index = <0>;
-};
-
-camera1: camera-module@36-1 {
-	status = "okay";
 	compatible = "omnivision,ov4689-v4l2-i2c-subdev";
 	reg = <0x36>;
 	device_type = "v4l2-i2c-subdev";
-	clocks = <&clk_cif_out>;
-	clock-names = "clk_cif_out";
+	clocks = <&clk_mipicsi_out>;
+	clock-names = "clk_mipicsi_out";
 	pinctrl-names = "rockchip,camera_default", "rockchip,camera_sleep";
 	pinctrl-0 = <&cif_dvp_clk_out>;
 	pinctrl-1 = <&cif_dvp_clk_out_sleep>;
 	rockchip,pd-gpio = <&gpio3 GPIO_B0 GPIO_ACTIVE_LOW>;
-	rockchip,pwr-gpio = <&gpio3 GPIO_B5 GPIO_ACTIVE_HIGH>;
+	rockchip,pwr-gpio = <&gpio0 GPIO_C3 GPIO_ACTIVE_HIGH>;
 	rockchip,rst-gpio = <&gpio3 GPIO_D1 GPIO_ACTIVE_LOW>;
-	rockchip,camera-module-mclk-name = "clk_cif_out";
+	rockchip,camera-module-mclk-name = "clk_mipicsi_out";
 	rockchip,camera-module-facing = "back";
 	rockchip,camera-module-name = "LA6111PA";
 	rockchip,camera-module-len-name = "YM6011P";
@@ -60,7 +29,7 @@ camera1: camera-module@36-1 {
 };
 
 camera2: camera-module@1a {
-	status = "okay";
+	status = "disabled";
 	compatible = "sony,imx323-v4l2-i2c-subdev";
 	reg = <0x1a>;
 	device_type = "v4l2-i2c-subdev";
@@ -92,7 +61,7 @@ camera2: camera-module@1a {
 };
 
 camera3: camera-module@60 {
-	status = "okay";
+	status = "disabled";
 	compatible = "omnivision,ov7251-bw-v4l2-i2c-subdev";
 	reg = <0x60>;
 	device_type = "v4l2-i2c-subdev";
@@ -120,7 +89,7 @@ camera3: camera-module@60 {
 };
 
 camera4: camera-module@1a-1 {
-	status = "okay";
+	status = "disabled";
 	compatible = "sony,imx291-v4l2-i2c-subdev";
 	reg = <0x1a>;
 	device_type = "v4l2-i2c-subdev";
diff --git a/arch/arm/boot/dts/rv1108-panorama.dts b/arch/arm/boot/dts/rv1108-panorama.dts
new file mode 100644
index 0000000..3e0c1a6
--- /dev/null
+++ b/arch/arm/boot/dts/rv1108-panorama.dts
@@ -0,0 +1,660 @@
+/*
+ * Copyright (c) 2016 Fuzhou Rockchip Electronics Co., Ltd
+ *
+ * This file is dual-licensed: you can use it either under the terms
+ * of the GPL or the X11 license, at your option. Note that this dual
+ * licensing only applies to this file, and not this project as a
+ * whole.
+ *
+ *  a) This file is free software; you can redistribute it and/or
+ *     modify it under the terms of the GNU General Public License as
+ *     published by the Free Software Foundation; either version 2 of the
+ *     License, or (at your option) any later version.
+ *
+ *     This file is distributed in the hope that it will be useful,
+ *     but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *     GNU General Public License for more details.
+ *
+ * Or, alternatively,
+ *
+ *  b) Permission is hereby granted, free of charge, to any person
+ *     obtaining a copy of this software and associated documentation
+ *     files (the "Software"), to deal in the Software without
+ *     restriction, including without limitation the rights to use,
+ *     copy, modify, merge, publish, distribute, sublicense, and/or
+ *     sell copies of the Software, and to permit persons to whom the
+ *     Software is furnished to do so, subject to the following
+ *     conditions:
+ *
+ *     The above copyright notice and this permission notice shall be
+ *     included in all copies or substantial portions of the Software.
+ *
+ *     THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
+ *     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
+ *     OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
+ *     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
+ *     HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
+ *     WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ *     FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+ *     OTHER DEALINGS IN THE SOFTWARE.
+ */
+
+/dts-v1/;
+
+#include "rv1108.dtsi"
+//#include "lcd-ili9806e_mipi.dtsi" /* dispaly board v10 v11 */
+//#include "lcd-e555hbm2_mipi.dtsi" /* display board v20*/
+//#include "lcd-ili9807_mipi.dtsi" /* display board v30 */
+#include "lcd_dummy_mipi.dtsi" /* dummy mipi for rv1108 */
+#include "dt-bindings/suspend/rockchip-pm.h"
+
+/ {
+	model = "Rockchip RV1108 IPC MAINBOARD V10";
+	compatible = "rockchip,rv1108-ipc-v10", "rockchip,rv1108";
+
+	memory {
+		device_type = "memory";
+		reg = <0x60000000 0x08000000>;
+	};
+
+	fiq-debugger {
+		status = "okay";
+		rockchip,serial-id = <2>;
+		pinctrl-0 = <&uart2m0_xfer>;
+	};
+
+	rockchip_suspend: rockchip_suspend {
+		rockchip,ctrbits = <
+			(0
+			|RKPM_CTR_GTCLKS
+			|RKPM_CTR_PLLS
+			/*|RKPM_CTR_ARMOFF_LPMD*/
+			|RKPM_CTR_ARMLOGDP_LPMD
+			/*|RKPM_CTR_IDLESRAM_MD*/
+			|RKPM_CTR_DDR
+			|RKPM_CTR_PMIC
+			/*|RKPM_CTR_BUS_IDLE*/
+			|RKPM_CTR_SYSCLK_32K
+			)
+			>;
+		rockchip,pmic-suspend_gpios = <0>;
+	};
+
+	chosen {
+		bootargs = "user_debug=31 rockchip_jtag noinitrd root=/dev/mtdblock3 rootfstype=squashfs";
+	};
+
+	ion {
+		compatible = "rockchip,ion";
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		/* memory region for dsp pool, start from 0x62000000 */
+		dsp {
+			compatible = "rockchip,ion-heap";
+			rockchip,ion_heap = <2>;
+			reg = <0x62000000 0x100000>; /* 1MB@32M */
+		};
+		ion_cma: rockchip,ion-heap@4 { /* CMA HEAP */
+			compatible = "rockchip,ion-heap";
+			rockchip,ion_heap = <4>;
+			reg = <0x00000000 0x04400000>; /* 68MB */
+		};
+		rockchip,ion-heap@0 { /* VMALLOC HEAP */
+			compatible = "rockchip,ion-heap";
+			rockchip,ion_heap = <0>;
+		};
+	};
+
+	io-domains {
+		compatible = "rockchip,rv1108-io-voltage-domain";
+		rockchip,grf = <&grf>;
+		rockchip,pmugrf = <&pmugrf>;
+
+		/* GRF_IO_VSEL */
+		status = "okay";
+		vccio1-supply = <&rk805_ldo2_reg>;
+		vccio2-supply = <&rk805_ldo2_reg>;
+		vccio3-supply = <&rk805_dcdc4_reg>;
+		vccio5-supply = <&rk805_ldo2_reg>;
+
+		/* PMU_GRF_IO_VSEL */
+		pmu-supply = <&rk805_dcdc4_reg>;
+	};
+
+	/* pmic_sleep */
+	gpio_poweroff {
+		compatible = "gpio-poweroff";
+		gpios = <&gpio0 GPIO_B5 GPIO_ACTIVE_HIGH>;
+		status = "okay";
+	};
+
+	wireless-wlan {
+		compatible = "wlan-platdata";
+		wifi_chip_type = "rtl8189fs";
+		sdio_vref = <0>;
+		WIFI,poweren_gpio = <&gpio0 GPIO_A2 GPIO_ACTIVE_HIGH>;
+		WIFI,host_wake_irq = <&gpio0 GPIO_A3 GPIO_ACTIVE_HIGH>;
+		status = "okay";
+	};
+
+	rockchip_audio {
+		compatible = "rockchip,rv1108-audio";
+		dais {
+			dai0 {
+				audio-codec = <&codec>;
+				audio-controller = <&i2s1>;
+				format = "i2s";
+			};
+		};
+	};
+
+	motor_1 {
+		compatible = "motor-gpio";
+		gpios = <&gpio0 GPIO_A4 GPIO_ACTIVE_LOW>,
+				<&gpio0 GPIO_A5 GPIO_ACTIVE_LOW>,
+				<&gpio0 GPIO_A6 GPIO_ACTIVE_LOW>,
+				<&gpio0 GPIO_A7 GPIO_ACTIVE_LOW>;
+		rockchip,motor-id = <1>;
+		status = "disabled";
+	};
+
+	motor_2 {
+		compatible = "motor-gpio";
+		gpios = <&gpio0 GPIO_B6 GPIO_ACTIVE_LOW>,
+				<&gpio0 GPIO_B0 GPIO_ACTIVE_LOW>,
+				//<&gpio0 GPIO_C3 GPIO_ACTIVE_LOW>,
+				<&gpio0 GPIO_C5 GPIO_ACTIVE_LOW>;
+		rockchip,motor-id = <2>;
+		status = "disabled";
+	};
+
+	ipc_leds {
+		compatible = "gpio-leds";
+		led0 {
+			label = "led0";
+			gpios = <&rk805 0 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "blink";
+		};
+		led1 {
+			label = "led1";
+			gpios = <&rk805 1 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "blink";
+		};
+	};
+};
+
+/*
+ * clk_mac_pll can be selected from apll/gpll.
+ *
+ * to use one of these, we should modify
+ * 'rockchip,clocks-init-parent' and
+ * 'rockchip,clocks-init-rate' as follows:
+ *
+ * from apll:
+ * 1, <&clk_mac_pll &clk_apll>;
+ *
+ * from gpll:
+ * 1, <&clk_mac_pll &clk_gpll>;
+ * 2, <&clk_gpll 1200000000>
+ *
+ * note:
+ * if gpll use 1200Mhz, hdmi function is unable to used
+ * and should be disabled.
+ */
+&rockchip_clocks_init {
+	rockchip,clocks-init-parent =
+		<&aclk_bus_pre &clk_gpll>, <&aclk_peri &clk_gpll>,
+		<&clk_emmc &clk_gpll>, <&clk_sdio &clk_gpll>,
+		<&hdmiphy &hdmiphy_pll>, <&usb480m &usbphy_480m>,
+		<&clk_mac_pll &clk_apll>;
+	rockchip,clocks-init-rate =
+		<&clk_gpll 1188000000>, <&clk_core 800000000>,
+		<&clk_dsp 396000000>, <&aclk_bus_pre 150000000>,
+		<&hclk_bus_pre 150000000>, <&pclk_bus_pre 75000000>,
+		<&aclk_peri 150000000>, <&hclk_peri 150000000>,
+		<&pclk_peri 75000000>, <&aclk_vio0_pre 300000000>,
+		<&aclk_vio1_pre 300000000>, <&hclk_vio_pre 75000000>,
+		<&pclk_vio_pre 75000000>, <&aclk_rkvdec_pre 300000000>,
+		<&aclk_vpu_pre 300000000>, <&clk_hevc_cabac 300000000>,
+		<&clk_hevc_core 300000000>, <&aclk_rkvenc_pre 300000000>,
+		<&clk_venc_core 300000000>, <&clk_crypto 150000000>,
+		<&clk_nandc 150000000>, <&clk_i2s0_pll 594000000>,
+		<&clk_i2s1_pll 594000000>, <&clk_i2s2_pll 594000000>,
+		<&clk_uart0_pll 297000000>, <&clk_uart1_pll 297000000>,
+		<&clk_uart2_pll 297000000>, <&clk_rga 300000000>;
+};
+
+&clk_core_dvfs_table {
+
+	operating-points = <
+		/* KHz	  uV */
+		408000 1000000
+		600000 1000000
+		816000 1000000
+		1008000 1150000
+		>;
+	status = "disabled";
+};
+
+&watchdog {
+	status = "okay";
+	rockchip,timeout = <5>;
+	rockchip,atboot = <0>;
+};
+
+&adc {
+	status = "okay";
+
+	light_sensor0: light_sensor {
+		compatible = "rockchip,light_sensor";
+		io-channels = <&adc 2>;
+	};
+
+	key0 {
+		compatible = "rockchip,key";
+		io-channels = <&adc 0>;
+		adc-drift = <45>;
+
+		tab-key {
+			linux,code = <15>;
+			label = "tab";
+			rockchip,adc_value = <685>;
+		};
+
+		enter-key {
+			linux,code = <28>;
+			label = "volume down";
+			rockchip,adc_value = <802>;
+		};
+
+		up-key {
+			linux,code = <103>;
+			label = "up";
+			rockchip,adc_value = <238>;
+		};
+
+		down-key {
+			linux,code = <108>;
+			label = "down";
+			rockchip,adc_value = <353>;
+		};
+
+		left-key {
+			linux,code = <105>;
+			label = "left";
+			rockchip,adc_value = <465>;
+		};
+
+		right-key {
+			linux,code = <106>;
+			label = "right";
+			rockchip,adc_value = <109>;
+		};
+
+		menu-key {
+			linux,code = <127>;
+			label = "menu";
+			rockchip,adc_value = <581>;
+		};
+
+		esc-key {
+			linux,code = <1>;
+			label = "esc";
+			rockchip,adc_value = <1>;
+		};
+	};
+};
+
+&spi0 {
+    status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&spim0_clk &spim0_cs0 &spim0_tx &spim0_rx>;
+	spi_rk_preisp@00 {
+               compatible =  "rockchip,spi_rk_preisp";
+               device_type = "spi_rk_preisp";
+               rockchip,camera-modules-attached = <&camera0 &camera1>;
+               reg = <0>;
+               spi-max-frequency = <20000000>;
+               spi-min-frequency = <12000000>;
+               rockchip,grf = <&grf>;
+               //spi-cpol;
+               //spi-cpha;
+               reset-gpio = <&gpio3 GPIO_A7 GPIO_ACTIVE_HIGH>;
+               irq-gpio = <&gpio3 GPIO_B2 GPIO_ACTIVE_HIGH>;
+               sleepst-gpio = <&gpio3 GPIO_B3 GPIO_ACTIVE_HIGH>;
+               wakeup-gpio = <&gpio3 GPIO_B1 GPIO_ACTIVE_HIGH>;
+               //powerdown-gpio = <&gpio8 GPIO_A0 GPIO_ACTIVE_HIGH>;
+               pinctrl-names = "default";
+               pinctrl-0 = <&preisp_reset_gpios &preisp_irq_gpios &preisp_wake_gpios &preisp_sleep_gpios>;
+               //firmware-nowait-mode = <1>;
+               //TODO:
+               //regulator config...
+       };
+};
+
+&i2c0 {
+	status = "okay";
+
+	i2c-scl-rising-time-ns = <275>;
+	i2c-scl-falling-time-ns = <16>;
+	clock-frequency = <400000>;
+
+	rk805: rk805@18 {
+		reg = <0x18>;
+		status = "okay";
+	};
+
+	sensor: sensor@19 {
+		compatible = "bma2xx_acc";
+		reg = <0x19>;
+		type = <2>;
+		irq-gpio = <&gpio0 GPIO_B3 IRQ_TYPE_LEVEL_HIGH>;
+		irq_enable = <0>;
+		poll_delay_ms = <30>;
+		layout = <2>;
+		status = "okay";
+	};
+
+	nvp6124: nvp6124@30 {
+		status = "disabled";
+		compatible = "rockchip,nvp";
+		reg = <0x30>;
+		device_type = "v4l2-i2c-subdev";
+		/* 1 or 2 or 4 */
+		channels = <4>;
+		/* 1.8v or 3.3v */
+		apio_vol = <3300>;
+		/* PAL or NTSC */
+		cvbs_mode = "PAL";
+		reset-gpio = <&gpio3 GPIO_C6 GPIO_ACTIVE_LOW>;
+		irq-gpio = <&gpio3 GPIO_D3 GPIO_ACTIVE_HIGH>;
+		pinctrl-names = "default", "sleep";
+		pinctrl-0 = <&cif_dvp_d2d9 &cif_dvp_clk_in>;
+		pinctrl-1 = <&cif_dvp_d2d9_sleep &cif_dvp_clk_in_sleep>;
+	};
+
+	mpu6500: mpu6500@68 {
+		status = "disabled";
+		compatible = "invensense,mpu6500";
+		reg = <0x68>;
+		mpu-int_config = <0x10>;
+		mpu-level_shifter = <0>;
+		mpu-orientation = <1 0 0 0 1 0 0 0 1>;
+		orientation-x= <1>;
+		orientation-y= <1>;
+		orientation-z= <0>;
+		support-hw-poweroff = <1>;
+		mpu-debug = <1>;
+	};
+};
+
+&i2c1 {
+	status = "okay";
+
+//#include "rv1108-camb-v11.dtsi" /* camera board v11 */
+//#include "rv1108-camb-v12.dtsi" /* camera board v12 */
+#include "rv1108-camb-v13.dtsi" /* camera board v13 */
+};
+/ {
+	cam_ircut0: cam_ircut {
+		status = "okay";
+		compatible = "rockchip,ircut";
+		rockchip,ircut-gpio-close = <&gpio1 GPIO_A2 GPIO_ACTIVE_LOW>;
+		rockchip,ircut-gpio-open  = <&gpio1 GPIO_A1 GPIO_ACTIVE_LOW>;
+		rockchip,led              = <&gpio0 GPIO_C0 GPIO_ACTIVE_LOW>;
+	};
+};
+
+&i2c3 {
+	status = "okay";
+	camera1: camera-module@37 {
+		status = "okay";
+		compatible = "omnivision,ov4689-v4l2-i2c-subdev";
+		reg = <0x36>;
+		device_type = "v4l2-i2c-subdev";
+		clocks = <&clk_mipicsi_out>;
+		clock-names = "clk_mipicsi_out";
+		rockchip,pd-gpio = <&gpio3 GPIO_B0 GPIO_ACTIVE_LOW>;
+		rockchip,pwr-gpio = <&gpio0 GPIO_C3 GPIO_ACTIVE_HIGH>;
+		rockchip,rst-gpio = <&gpio3 GPIO_D1 GPIO_ACTIVE_LOW>;
+		rockchip,camera-module-mclk-name = "clk_mipicsi_out";
+		rockchip,camera-module-facing = "back";
+		rockchip,camera-module-name = "LA6111PA";
+		rockchip,camera-module-len-name = "YM6011P";
+		rockchip,camera-module-fov-h = "116";
+		rockchip,camera-module-fov-v = "61";
+		rockchip,camera-module-orientation = <0>;
+		rockchip,camera-module-iq-flip = <0>;
+		rockchip,camera-module-iq-mirror = <0>;
+		rockchip,camera-module-flip = <0>;
+		rockchip,camera-module-mirror = <1>;
+		/* resolution.w, resolution.h, defrect.left, defrect.top, defrect.w, defrect.h */
+		rockchip,camera-module-defrect0 = <2688 1520 0 0 2688 1520>;
+		rockchip,camera-module-flash-support = <0>;
+		rockchip,camera-module-mipi-dphy-index = <0>;
+	};
+};
+
+&camera0 {
+	rockchip,camera-ircut = <&cam_ircut0>;
+	rockchip,camera-ls = <&light_sensor0>;
+	rockchip,camera-ls-range = <0 700 800 1024>;
+};
+
+&camera1 {
+	rockchip,camera-ircut = <&cam_ircut0>;
+	rockchip,camera-ls = <&light_sensor0>;
+	rockchip,camera-ls-range = <0 700 800 1024>;
+};
+
+&camera2 {
+	rockchip,camera-ircut = <&cam_ircut0>;
+	rockchip,camera-ls = <&light_sensor0>;
+	rockchip,camera-ls-range = <0 750 950 1024>;
+};
+
+&cif1to4 {
+	status = "disabled";
+};
+
+&cif_cif0 {
+	rockchip,camera-modules-attached = <&nvp6124 &cvbsin>;
+	status = "disabled";
+};
+
+&cif_cif1 {
+	rockchip,camera-modules-attached = <&nvp6124>;
+	status = "disabled";
+};
+
+&cif_cif2 {
+	rockchip,camera-modules-attached = <&nvp6124>;
+	status = "disabled";
+};
+
+&cif_cif3 {
+	rockchip,camera-modules-attached = <&nvp6124>;
+	status = "disabled";
+};
+
+&cif_isp0 {
+	rockchip,camera-modules-attached = <&spi0>;
+	status = "okay";
+};
+
+&cvbsin {
+	status = "disabled";
+};
+
+&gmac_clkin {
+	clock-frequency = <50000000>;
+};
+
+&gmac {
+	status = "okay";
+
+	/* pmu_regulator = "act_ldo5"; */
+	/* power-gpio = <&gpio0 GPIO_A6 GPIO_ACTIVE_HIGH>; */
+	reset-gpio = <&gpio1 GPIO_C0 GPIO_ACTIVE_LOW>;
+
+	phy-mode = "rmii";
+	clock_in_out = "output";
+};
+
+&emmc {
+	clock-frequency = <50000000>;
+	clock-freq-min-max = <400000 50000000>;
+	supports-highspeed;
+	supports-emmc;
+	bootpart-no-access;
+	supports-DDR_MODE;
+	caps2-mmc-hs200;
+	ignore-pm-notify;
+	keep-power-in-suspend;
+	status = "disabled";
+};
+
+&sdmmc {
+	clock-frequency = <50000000>;
+	clock-freq-min-max = <200000 50000000>;
+	supports-highspeed;
+	supports-sd;
+	broken-cd;
+	card-detect-delay = <200>;
+	ignore-pm-notify;
+	keep-power-in-suspend;
+	power-inverted;
+	status = "okay";
+};
+
+&sdio {
+	clock-frequency = <50000000>;
+	clock-freq-min-max = <200000 50000000>;
+	supports-highspeed;
+	supports-sdio;
+	ignore-pm-notify;
+	keep-power-in-suspend;
+	cap-sdio-irq;
+	status = "okay";
+};
+
+&sfc {
+	status = "okay";
+};
+
+//#include "rv1108-rk805-v11.dtsi" /* rk805 v11 */
+#include "rv1108-rk805-v12.dtsi" /* rk805 v12 */
+
+&dwc_control_usb {
+	rockchip,remote_wakeup;
+	rockchip,usb_irq_wakeup;
+	status = "okay";
+};
+
+&tsadc {
+	status = "okay";
+};
+
+&usb_host_ehci {
+	status = "okay";
+};
+
+&usb_host_ohci {
+	status = "okay";
+};
+
+&usb_otg {
+	rockchip,high-bandwidth;
+	status = "okay";
+};
+
+&rkvenc {
+	status = "okay";
+};
+
+&vpu {
+	status = "okay";
+};
+
+&rkvdec {
+	status = "okay";
+};
+
+&iep {
+	status = "okay";
+};
+
+&fb {
+	status = "okay";
+};
+
+&rk_screen {
+	status = "okay";
+};
+
+&vop {
+	status = "okay";
+	pinctrl-names = "default", "gpio";
+	pinctrl-0 = <&lcdc_mipi_data>;
+	pinctrl-1 = <&lcdc_mipi_gpio>;
+	power_ctr: power_ctr {
+		rockchip,debug = <0>;
+		/*
+		lcd_en: lcd_en {
+			rockchip,power_type = <GPIO>;
+			gpios = <&gpio3 GPIO_C4 GPIO_ACTIVE_HIGH>;
+			rockchip,delay = <10>;
+		};
+		*/
+	};
+};
+
+&rga {
+	status = "okay";
+};
+
+&i2s1 {
+	status = "okay";
+};
+
+&codec {
+	spk_ctl_io = <&gpio0 GPIO_C4 GPIO_ACTIVE_HIGH>;
+	rockchip,single-ended = <1>;
+	status = "okay";
+};
+
+&hdmi {
+	status = "okay";
+	pinctrl-0 = <&hdmi_cec &i2c2m1_xfer &hdmi_hpd>;
+};
+
+&camera2 {
+	rockchip,pwr-gpio = <&gpio1 GPIO_A0 GPIO_ACTIVE_HIGH>;
+	rockchip,camera-module-name = "LA6271";
+	rockchip,camera-module-flip = <1>;
+	rockchip,camera-module-mirror = <1>;
+};
+
+&pinctrl {
+	preisp_gpios {
+		preisp_reset_gpios: preisp-reset-gpios {
+			rockchip,pins = <3 GPIO_A7 RK_FUNC_GPIO &pcfg_pull_none>;
+		};
+
+		preisp_irq_gpios: preisp-irq-gpios {
+			rockchip,pins = <3 GPIO_B2 RK_FUNC_GPIO &pcfg_pull_up>;
+		};
+
+		preisp_wake_gpios: preisp-wake-gpios {
+			rockchip,pins = <3 GPIO_B1 RK_FUNC_GPIO &pcfg_pull_none>;
+		};
+
+		preisp_sleep_gpios: preisp-sleep-gpios {
+			rockchip,pins = <3 GPIO_B3 RK_FUNC_GPIO &pcfg_pull_none>;
+		};
+	};
+};
-- 
1.9.1

